<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Non-Transitive Dice Game</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        /* Custom scrollbar to match theme */
        body::-webkit-scrollbar {
            width: 8px;
        }
        body::-webkit-scrollbar-track {
            background: #212428;
        }
        body::-webkit-scrollbar-thumb {
            background: #464D56;
            border-radius: 4px;
        }
    </style>
</head>
<body class="bg-[#212428] min-h-screen flex items-center justify-center font-sans p-4">

    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // Configuration with color palette
        const diceConfig = [
            { 
                id: 'A', 
                name: 'Dice A', 
                values: [1, 6, 8], 
                bg: 'bg-[#44A0D1]', 
                text: 'text-[#44A0D1]',
                hover: 'hover:bg-[#44A0D1]', 
                ring: 'ring-[#44A0D1]' 
            },
            { 
                id: 'B', 
                name: 'Dice B', 
                values: [2, 4, 9], 
                bg: 'bg-[#5AC549]', 
                text: 'text-[#5AC549]',
                hover: 'hover:bg-[#5AC549]', 
                ring: 'ring-[#5AC549]' 
            },
            { 
                id: 'C', 
                name: 'Dice C', 
                values: [3, 5, 7], 
                bg: 'bg-[#F35012]', 
                text: 'text-[#F35012]',
                hover: 'hover:bg-[#F35012]', 
                ring: 'ring-[#F35012]' 
            }
        ];

        function App() {
            const [results, setResults] = useState({});
            const hasRolls = Object.keys(results).length > 0;

            const rollDice = (dice) => {
                if (results[dice.id]) return;
                const randomValue = dice.values[Math.floor(Math.random() * dice.values.length)];
                setResults(prev => ({ ...prev, [dice.id]: randomValue }));
            };

            const getWinnerId = () => {
                if (!hasRolls) return null;
                let maxVal = -1;
                let winnerId = null;
                Object.entries(results).forEach(([id, value]) => {
                    if (value > maxVal) {
                        maxVal = value;
                        winnerId = id;
                    }
                });
                return winnerId;
            };

            const winnerId = getWinnerId();

            const resetGame = () => {
                setResults({});
            };

            return (
                <div className="max-w-2xl w-full mx-auto bg-[#2A2E33] rounded-xl shadow-2xl overflow-hidden border border-[#363B42]">
                    
                    {/* 1. Title Section */}
                    <div className="bg-[#1B1E21] p-5 text-center border-b border-[#363B42]">
                        <h1 className="text-2xl font-bold text-[#E0E5EC] tracking-wide">
                            Non-Transitive Dice
                        </h1>
                        <p className="text-[#CED2D9] text-xs mt-1">
                            Pick a dice to roll. Highest number wins.
                        </p>
                    </div>

                    {/* 2. Results Area (Compact) */}
                    <div className="p-6 min-h-[220px] flex flex-col items-center justify-center bg-[#262A2E] border-b border-[#363B42]">
                        
                        {!hasRolls && (
                            <div className="text-center text-[#464D56] italic">
                                <svg xmlns="http://www.w3.org/2000/svg" className="h-12 w-12 mx-auto mb-3 opacity-50" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                                <span className="text-[#CED2D9] opacity-70 text-sm">Select a dice below to start</span>
                            </div>
                        )}

                        {hasRolls && (
                            <div className="w-full">
                                <div className="flex flex-row flex-wrap justify-center gap-4 mb-6">
                                    {diceConfig.map(dice => {
                                        const value = results[dice.id];
                                        const isRolled = value !== undefined;
                                        const isWinner = winnerId === dice.id;
                                        
                                        if (!isRolled) return null;

                                        return (
                                            <div key={dice.id} className={`relative flex flex-col items-center p-4 bg-[#363B42] rounded-lg shadow-lg transition-all duration-500 transform ${isWinner ? `ring-2 ${dice.ring} scale-105 z-10 bg-[#3d434b]` : 'opacity-90'}`}>
                                                {isWinner && (
                                                    <div className="absolute -top-2 px-2 py-0.5 bg-[#54C1FB] text-[#1B1E21] text-[10px] font-bold rounded-full shadow">
                                                        WINNER
                                                    </div>
                                                )}
                                                <h3 className={`text-sm font-bold ${dice.text} mb-1.5`}>{dice.name}</h3>
                                                {/* Smaller dice visual */}
                                                <div className={`h-16 w-16 flex items-center justify-center rounded-lg text-3xl font-black text-white ${dice.bg} shadow-lg`}>
                                                    {value}
                                                </div>
                                                <div className="mt-2 text-[10px] text-[#CED2D9] opacity-60">
                                                    [{dice.values.join(',')}]
                                                </div>
                                            </div>
                                        );
                                    })}
                                </div>

                                <div className="text-center">
                                    <h2 className="text-lg font-bold text-[#E0E5EC]">
                                        Current Winner: <span className={diceConfig.find(d => d.id === winnerId)?.text}>{diceConfig.find(d => d.id === winnerId)?.name}</span>
                                    </h2>
                                </div>
                            </div>
                        )}
                    </div>

                    {/* 3. Buttons Section (Single Column) */}
                    <div className="p-6 bg-[#2A2E33]">
                        {/* Container limited width, flex-col for stacking */}
                        <div className="flex flex-col gap-3 max-w-sm mx-auto mb-6">
                            {diceConfig.map(dice => {
                                const isDisabled = results[dice.id] !== undefined;
                                
                                return (
                                    <button
                                        key={dice.id}
                                        onClick={() => rollDice(dice)}
                                        disabled={isDisabled}
                                        className={`
                                            w-full py-4 px-6 rounded-lg shadow-md transition-all duration-200 border border-[#363B42]
                                            flex items-center justify-between group
                                            ${isDisabled 
                                                ? 'bg-[#212428] border-[#2A2E33] cursor-not-allowed opacity-40 grayscale' 
                                                : `bg-[#464D56] ${dice.hover} hover:text-white hover:border-transparent hover:-translate-y-1 hover:shadow-lg hover:shadow-black/30`
                                            }
                                        `}
                                    >
                                        <div className="flex flex-col items-start">
                                            <span className={`text-lg font-bold leading-none transition-colors ${isDisabled ? 'text-[#CED2D9]' : 'text-[#E0E5EC] group-hover:text-white'}`}>
                                                {dice.name}
                                            </span>
                                        </div>
                                        <span className={`text-xs ${isDisabled ? 'text-[#CED2D9]' : 'text-[#CED2D9] group-hover:text-white/80'}`}>
                                            [{dice.values.join(', ')}]
                                        </span>
                                    </button>
                                );
                            })}
                        </div>

                        {/* Reset Button */}
                        {hasRolls && (
                            <div className="flex justify-center border-t border-[#363B42] pt-6">
                                <button 
                                    onClick={resetGame}
                                    className="px-6 py-2 bg-[#1B1E21] text-[#54C1FB] border border-[#54C1FB] rounded-full hover:bg-[#54C1FB] hover:text-[#1B1E21] transition-all shadow-lg font-bold uppercase tracking-wider text-xs flex items-center gap-2"
                                >
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                                    </svg>
                                    Reset Round
                                </button>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>